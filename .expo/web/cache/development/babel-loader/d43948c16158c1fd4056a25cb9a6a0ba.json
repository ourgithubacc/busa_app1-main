{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"containerStyle\", \"otpStyles\", \"codeCount\", \"onTyping\", \"onFinish\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useRef, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar width = Dimensions.get(\"window\").width;\nvar height = Dimensions.get(\"window\").height;\nvar initCodes = [];\nexport default function OTP(_ref) {\n  var containerStyle = _ref.containerStyle,\n    otpStyles = _ref.otpStyles,\n    _ref$codeCount = _ref.codeCount,\n    codeCount = _ref$codeCount === void 0 ? 5 : _ref$codeCount,\n    onTyping = _ref.onTyping,\n    onFinish = _ref.onFinish,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var inputCodeRef = useRef(new Array());\n  var _useState = useState(initCodes),\n    _useState2 = _slicedToArray(_useState, 2),\n    codes = _useState2[0],\n    setCodes = _useState2[1];\n  useEffect(function () {\n    var codes = [];\n    for (var i = 0; i < codeCount; i++) {\n      codes.push(\"\");\n    }\n    setCodes(codes);\n  }, []);\n  useEffect(function () {\n    onTyping && onTyping(getCodes());\n    var isTypeFinish = codes.every(function (i) {\n      return i !== \"\";\n    });\n    if (isTypeFinish) {\n      onFinish && onFinish(getCodes());\n    }\n  }, [codes]);\n  var getCodes = function getCodes() {\n    var codeString = \"\";\n    codes.forEach(function (code) {\n      codeString += code;\n    });\n    return {\n      \"token\": codeString\n    };\n  };\n  var onChangeCode = function onChangeCode(code, index) {\n    var typedCode = code.slice(-1);\n    var currentCodes = _toConsumableArray(codes);\n    currentCodes[index] = typedCode;\n    setCodes(currentCodes);\n  };\n  var _onKeyPress = function onKeyPress(event, index) {\n    var key = event.nativeEvent.key;\n    var destIndex = index;\n    if (key === \"Backspace\") {\n      destIndex = index > 0 ? index - 1 : 0;\n    } else {\n      destIndex = index < codeCount - 1 ? index + 1 : codeCount - 1;\n    }\n    inputCodeRef.current[destIndex].focus();\n  };\n  return _jsx(View, {\n    style: [styles.form, containerStyle],\n    children: codes.map(function (code, index) {\n      return _jsx(TextInput, _objectSpread({\n        maxLength: 1,\n        cursorColor: \"red\",\n        selectionColor: \"blue\",\n        ref: function ref(element) {\n          return inputCodeRef.current.push(element);\n        },\n        style: [styles.input, otpStyles, {\n          width: width / (codeCount + 3),\n          height: height / 14\n        }],\n        onChangeText: function onChangeText(text) {\n          return onChangeCode(text, index);\n        },\n        onKeyPress: function onKeyPress(event) {\n          return _onKeyPress(event, index);\n        },\n        value: code\n      }, props), \"\" + index);\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  form: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"flex-start\"\n  },\n  input: {\n    marginHorizontal: 4,\n    fontSize: 32,\n    textAlign: \"center\",\n    backgroundColor: \"#fff\",\n    borderBottomWidth: 1.5,\n    borderBottomColor: \"#363BE8\",\n    fontFamily: \"Poppins\",\n    color: \"#363be8\"\n  }\n});","map":{"version":3,"names":["React","useState","useRef","useEffect","width","Dimensions","get","height","initCodes","OTP","containerStyle","otpStyles","codeCount","onTyping","onFinish","props","inputCodeRef","Array","codes","setCodes","i","push","getCodes","isTypeFinish","every","codeString","forEach","code","onChangeCode","index","typedCode","slice","currentCodes","onKeyPress","event","key","nativeEvent","destIndex","current","focus","styles","form","map","element","input","text","StyleSheet","create","flexDirection","justifyContent","alignItems","marginHorizontal","fontSize","textAlign","backgroundColor","borderBottomWidth","borderBottomColor","fontFamily","color"],"sources":["C:/Users/STEPHEN/Desktop/busa_app1-main/Components/otp.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { View, TextInput, Dimensions, StyleSheet } from \"react-native\";\r\n\r\nconst width = Dimensions.get(\"window\").width;\r\nconst height = Dimensions.get(\"window\").height;\r\n\r\nconst initCodes = [];\r\nexport default function OTP({\r\n\tcontainerStyle,\r\n\totpStyles,\r\n\tcodeCount = 5,\r\n\tonTyping,\r\n\tonFinish,\r\n\t...props\r\n}) {\r\n\tconst inputCodeRef = useRef(new Array());\r\n\tconst [codes, setCodes] = useState(initCodes);\r\n\tuseEffect(() => {\r\n\t\tconst codes = [];\r\n\t\tfor (let i = 0; i < codeCount; i++) {\r\n\t\t\tcodes.push(\"\");\r\n\t\t}\r\n\t\tsetCodes(codes);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tonTyping && onTyping(getCodes());\r\n\t\tconst isTypeFinish = codes.every(function (i) {\r\n\t\t\treturn i !== \"\";\r\n\t\t});\r\n\t\tif (isTypeFinish) {\r\n\t\t\tonFinish && onFinish(getCodes());\r\n\t\t}\r\n\t}, [codes]);\r\n\r\n\tconst getCodes = () => {\r\n\t\tlet codeString = \"\";\r\n\t\tcodes.forEach((code) => {\r\n\t\t\tcodeString += code;\r\n\t\t});\r\n\t\treturn {\"token\" : codeString};\r\n\t};\r\n\r\n\tconst onChangeCode = (code, index) => {\r\n\t\tconst typedCode = code.slice(-1);\r\n\t\tconst currentCodes = [...codes];\r\n\t\tcurrentCodes[index] = typedCode;\r\n\t\tsetCodes(currentCodes);\r\n\t};\r\n\tconst onKeyPress = (event, index) => {\r\n\t\tconst key = event.nativeEvent.key;\r\n\t\tlet destIndex = index;\r\n\t\tif (key === \"Backspace\") {\r\n\t\t\tdestIndex = index > 0 ? index - 1 : 0;\r\n\t\t} else {\r\n\t\t\tdestIndex = index < codeCount - 1 ? index + 1 : codeCount - 1;\r\n\t\t}\r\n\t\tinputCodeRef.current[destIndex].focus();\r\n\t};\r\n\treturn (\r\n\t\t<View style={[styles.form, containerStyle]}>\r\n\t\t\t{codes.map((code, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\tmaxLength={1}\r\n\t\t\t\t\t\tcursorColor=\"red\"\r\n\t\t\t\t\t\tselectionColor={\"blue\"}\r\n\t\t\t\t\t\tkey={`${index}`}\r\n\t\t\t\t\t\tref={(element) => inputCodeRef.current.push(element)}\r\n\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\tstyles.input,\r\n\t\t\t\t\t\t\totpStyles,\r\n\t\t\t\t\t\t\t{ width: width / (codeCount + 3), height: height / 14 },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChangeText={(text) => onChangeCode(text, index)}\r\n\t\t\t\t\t\tonKeyPress={(event) => onKeyPress(event, index)}\r\n\t\t\t\t\t\tvalue={code}\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\tform: {\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"flex-start\",\r\n\t},\r\n\tinput: {\r\n\t\tmarginHorizontal: 4,\r\n\t\tfontSize: 32,\r\n\t\ttextAlign: \"center\",\r\n\t\tbackgroundColor: \"#fff\",\r\n\t\tborderBottomWidth: 1.5,\r\n\t\tborderBottomColor: \"#363BE8\",\r\n\t\tfontFamily:\"Poppins\",\r\n\t\tcolor:\"#363be8\"\r\n\t},\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}