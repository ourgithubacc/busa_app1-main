{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useEffect, useState } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport Events from \"./Events\";\nimport { EVENTS } from \"../data/eventData\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar EventsScreen = function EventsScreen() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var getData = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var value = yield AsyncStorage.getItem('userInfo');\n        if (value !== null) {\n          setUserInfo(JSON.parse(value));\n        }\n      } catch (e) {\n        console.log(\"\" + e);\n      }\n    });\n    return function getData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getData();\n  });\n  var navigation = useNavigation();\n  return _jsx(SafeAreaView, {\n    style: {\n      flex: 1,\n      top: 40\n    },\n    children: _jsx(FlatList, {\n      showsVerticalScrollIndicator: false,\n      vertical: true,\n      data: EVENTS,\n      bounces: false,\n      decelerationRate: \"fast\",\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item,\n          id = _ref2.id;\n        return _jsx(Events, {\n          event: item,\n          navigation: navigation\n        }, id);\n      }\n    })\n  });\n};\nexport default EventsScreen;\nvar styles = StyleSheet.create({});\n{}","map":{"version":3,"names":["React","useEffect","useState","useNavigation","Events","EVENTS","AsyncStorage","EventsScreen","userInfo","setUserInfo","getData","value","getItem","JSON","parse","e","console","log","navigation","flex","top","item","id","styles","StyleSheet","create"],"sources":["C:/Users/STEPHEN/Desktop/busa_app1-main/screens/EventScreen.js"],"sourcesContent":["import { StyleSheet, SafeAreaView, TouchableOpacity, ScrollView, FlatList, Text } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport Events from './Events'\r\nimport { EVENTS } from '../data/eventData'\r\nimport AsyncStorage from '@react-native-async-storage/async-storage'\r\n\r\n//get the userInfo, and if the event.campus tallies, show the post\r\n\r\n\r\nconst EventsScreen = () => {\r\n\r\n\r\n\r\n  //  axios.get(`https://no-vex-abeg.onrender.com/api/events/get${userInfo.campus.tocharAt(0).toUpperCase()}CampusEvents`,)\r\n  //  .then((res)=>{\r\n\r\n  //  }).catch((e)=>{\r\n\r\n  //  })\r\n\r\n  const [userInfo, setUserInfo] = useState(null)\r\n\r\n  const getData = async()=>{\r\n    try {\r\n      const value = await AsyncStorage.getItem('userInfo')\r\n      if(value !== null) {\r\n      // console.log(value)\r\n      setUserInfo(JSON.parse(value))\r\n      }\r\n    } catch(e) {\r\n      console.log(`${e}`)\r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    getData()\r\n  })\r\n\r\n  // here, get the userInfo.campus and used it to make axios requests\r\n  // if userinfo.campus === \"iperu\", get all iperu tickets\r\n  // if userinfo.campus === \"Main\", get all main events\r\n\r\n\r\n\r\n  // don't forget to run the get all events through axios\r\n    const navigation = useNavigation()\r\n    return (\r\n      <SafeAreaView style={{flex:1, top:40}}>\r\n     <FlatList\r\n    //  onEndReachedThreshold={0.5}\r\n    //  ref={ref}\r\n    //  onMomentumScrollEnd={updateCurrentSlideIndex}\r\n  // onEndReached={}\r\n\r\n     showsVerticalScrollIndicator={false}\r\n     vertical\r\n     data={EVENTS}\r\n     bounces={false}\r\n     decelerationRate={\"fast\"}\r\n    //  keyExtractor={item=>item.id}\r\n     renderItem={({item, id}) => \r\n    <Events event={item} key={id} navigation={navigation}/>\r\n    }\r\n   />\r\n     \r\n     </SafeAreaView>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n \r\nexport default EventsScreen\r\n\r\nconst styles = StyleSheet.create({})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  {/* <ScrollView showsVerticalScrollIndicator={false} bounces={false}>\r\n          {EVENTS.map((event, id)=>(\r\n                 <TouchableOpacity\r\n                 key={id}\r\n                 activeOpacity={1}>\r\n                   <Events event={event} key={id} navigation={navigation}/>\r\n                 </TouchableOpacity>\r\n              ))}\r\n             </ScrollView> */}"],"mappings":";;;;;;;;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,0BAA0B;AACxD,OAAOC,MAAM;AACb,SAASC,MAAM;AACf,OAAOC,YAAY,MAAM,2CAA2C;AAAA;AAKpE,IAAMC,YAAY,GAAG,SAAfA,YAAY,GAAS;EAWzB,gBAAgCL,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAvCM,QAAQ;IAAEC,WAAW;EAE5B,IAAMC,OAAO;IAAA,6BAAG,aAAS;MACvB,IAAI;QACF,IAAMC,KAAK,SAASL,YAAY,CAACM,OAAO,CAAC,UAAU,CAAC;QACpD,IAAGD,KAAK,KAAK,IAAI,EAAE;UAEnBF,WAAW,CAACI,IAAI,CAACC,KAAK,CAACH,KAAK,CAAC,CAAC;QAC9B;MACF,CAAC,CAAC,OAAMI,CAAC,EAAE;QACTC,OAAO,CAACC,GAAG,MAAIF,CAAC,CAAG;MACrB;IACF,CAAC;IAAA,gBAVKL,OAAO;MAAA;IAAA;EAAA,GAUZ;EACDT,SAAS,CAAC,YAAI;IACZS,OAAO,EAAE;EACX,CAAC,CAAC;EASA,IAAMQ,UAAU,GAAGf,aAAa,EAAE;EAClC,OACE,KAAC,YAAY;IAAC,KAAK,EAAE;MAACgB,IAAI,EAAC,CAAC;MAAEC,GAAG,EAAC;IAAE,CAAE;IAAA,UACvC,KAAC,QAAQ;MAMT,4BAA4B,EAAE,KAAM;MACpC,QAAQ;MACR,IAAI,EAAEf,MAAO;MACb,OAAO,EAAE,KAAM;MACf,gBAAgB,EAAE,MAAO;MAEzB,UAAU,EAAE;QAAA,IAAEgB,IAAI,SAAJA,IAAI;UAAEC,EAAE,SAAFA,EAAE;QAAA,OACvB,KAAC,MAAM;UAAC,KAAK,EAAED,IAAK;UAAU,UAAU,EAAEH;QAAW,GAA3BI,EAAE,CAA2B;MAAA;IACtD;EACA,EAEe;AAGpB,CAAC;AAOD,eAAef,YAAY;AAE3B,IAAMgB,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;AAsBlC,CAQ2B"},"metadata":{},"sourceType":"module"}