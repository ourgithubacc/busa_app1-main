{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState } from \"react\";\nimport { StackActions, useNavigation } from \"@react-navigation/native\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport axios from \"axios\";\nexport var Login = function () {\n  var _ref = _asyncToGenerator(function* (values) {\n    var navigation = useNavigation();\n    var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n    var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userToken = _useState4[0],\n      setUserToken = _useState4[1];\n    var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userInfos = _useState6[0],\n      setUserInfo = _useState6[1];\n    yield axios.post(\"https://no-vex-abeg.onrender.com/api/signin\", _objectSpread({}, values)).then(function (res) {\n      console.log(res);\n      if (res.status === 200) {\n        console.log(res.data);\n        var userInfo = res.data.user;\n        setUserInfo(userInfo);\n        var token = res.data.token;\n        setUserToken(token);\n        try {\n          AsyncStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\n          AsyncStorage.setItem(\"userToken\", token);\n          console.log(userInfo);\n          console.log(token);\n          navigation.dispatch(StackActions.replace(\"Tab\"));\n        } catch (e) {\n          console.log(\"Async Storage error: \" + e);\n        }\n      }\n    }).catch(function (e) {\n      console.log(e);\n    });\n  });\n  return function Login(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["React","useState","StackActions","useNavigation","AsyncStorage","axios","Login","values","navigation","isLoading","setIsLoading","userToken","setUserToken","userInfos","setUserInfo","post","then","res","console","log","status","data","userInfo","user","token","setItem","JSON","stringify","dispatch","replace","e","catch"],"sources":["C:/Users/STEPHEN/Desktop/busa_app1-main/Components/Login.js"],"sourcesContent":["import React, {useState } from \"react\";\r\nimport { StackActions, useNavigation } from \"@react-navigation/native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport axios from \"axios\";\r\n\r\n\r\n// export const Login = async (values) => {\r\n\r\n// \tconst navigation = useNavigation()\r\n// \tconst [isLoading, setIsLoading] = useState(false);\r\n// \tconst [userToken, setUserToken]= useState(null)\r\n// \tconst [userInfos, setUserInfo] = useState(null)\r\n\r\n//       await axios.post(\"https://no-vex-abeg.onrender.com/api/signin\", {\r\n// \t\t\t...values,\r\n// \t\t}).then((res)=>{\r\n// \t\t\tconsole.log(res)\r\n// \t\t\tif (res.status === 200) {\r\n// \t\t\t\t// also store the users values as an object and pass it round\r\n// \t\t\t\tconsole.log(res.data);\r\n// \t\t\t\tlet userInfo = res.data.user\r\n// \t\t\t\tsetUserInfo(userInfo)\r\n// \t\t\t\tlet token = res.data.token\r\n// \t\t\t\tsetUserToken(token)\r\n\r\n// \t\t\t\ttry{\r\n// \t\t\t\t\t// stringify the user object\r\n// \t\t\t\t\tAsyncStorage.setItem(\"userInfo\", JSON.stringify (userInfo))\r\n// \t\t\t\t\t// get the user token\r\n// \t\t\t\t\tAsyncStorage.setItem(\"userToken\",token)\r\n// \t\t\t\t\tconsole.log(userInfo)\r\n// \t\t\t\t\tconsole.log(token)\r\n// \t\t\t\tnavigation.dispatch(StackActions.replace(\"Tab\"));\r\n// \t\t\t\t}catch(e){\r\n// \t\t\t\t\tconsole.log(`Async Storage error: ${e}`)\r\n// \t\t\t\t}\r\n// \t\t\t}\r\n// \t\t}).catch((e)=>{\r\n// \t\t\tconsole.log(e)\r\n// \t\t}\r\n\t\t\r\n// \t\t)\r\n\t\t\r\n// \t};\r\n\r\n\r\n\r\n\r\n\texport const Login = async (values) => {\r\n\t\tconst navigation = useNavigation()\r\n\t\tconst [isLoading, setIsLoading] = useState(false);\r\n\t\tconst [userToken, setUserToken]= useState(null)\r\n\t\tconst [userInfos, setUserInfo] = useState(null)\r\n\r\n\t\tawait axios.post(\"https://no-vex-abeg.onrender.com/api/signin\", {\r\n\t\t   ...values,\r\n\t   }).then((res)=>{\r\n\t\t   console.log(res)\r\n\t\t   if (res.status === 200) {\r\n\t\t\t   // also store the users values as an object and pass it round\r\n\t\t\t   console.log(res.data);\r\n\t\t\t   let userInfo = res.data.user\r\n\t\t\t   setUserInfo(userInfo)\r\n\t\t\t   let token = res.data.token\r\n\t\t\t   setUserToken(token)\r\n\r\n\t\t\t   try{\r\n\t\t\t\t   // stringify the user object\r\n\t\t\t\t   AsyncStorage.setItem(\"userInfo\", JSON.stringify(userInfo))\r\n\t\t\t\t   // get the user token\r\n\t\t\t\t   AsyncStorage.setItem(\"userToken\",token)\r\n\t\t\t\t   console.log(userInfo)\r\n\t\t\t\t   console.log(token)\r\n\t\t\t   navigation.dispatch(StackActions.replace(\"Tab\"));\r\n\t\t\t   }catch(e){\r\n\t\t\t\t   console.log(`Async Storage error: ${e}`)\r\n\t\t\t   }\r\n\t\t   }\r\n\t   }).catch((e)=>{\r\n\t\t   console.log(e)\r\n\t   }\r\n\t   \r\n\t   )  \r\n   };\r\n\r\n\r\n\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAGC,QAAQ,QAAQ,OAAO;AACtC,SAASC,YAAY,EAAEC,aAAa,QAAQ,0BAA0B;AACtE,OAAOC,YAAY,MAAM,2CAA2C;AACpE,OAAOC,KAAK,MAAM,OAAO;AA6CxB,OAAO,IAAMC,KAAK;EAAA,6BAAG,WAAOC,MAAM,EAAK;IACtC,IAAMC,UAAU,GAAGL,aAAa,EAAE;IAClC,gBAAkCF,QAAQ,CAAC,KAAK,CAAC;MAAA;MAA1CQ,SAAS;MAAEC,YAAY;IAC9B,iBAAiCT,QAAQ,CAAC,IAAI,CAAC;MAAA;MAAxCU,SAAS;MAAEC,YAAY;IAC9B,iBAAiCX,QAAQ,CAAC,IAAI,CAAC;MAAA;MAAxCY,SAAS;MAAEC,WAAW;IAE7B,MAAMT,KAAK,CAACU,IAAI,CAAC,6CAA6C,oBACxDR,MAAM,EACR,CAACS,IAAI,CAAC,UAACC,GAAG,EAAG;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAIA,GAAG,CAACG,MAAM,KAAK,GAAG,EAAE;QAEvBF,OAAO,CAACC,GAAG,CAACF,GAAG,CAACI,IAAI,CAAC;QACrB,IAAIC,QAAQ,GAAGL,GAAG,CAACI,IAAI,CAACE,IAAI;QAC5BT,WAAW,CAACQ,QAAQ,CAAC;QACrB,IAAIE,KAAK,GAAGP,GAAG,CAACI,IAAI,CAACG,KAAK;QAC1BZ,YAAY,CAACY,KAAK,CAAC;QAEnB,IAAG;UAEFpB,YAAY,CAACqB,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,CAAC;UAE1DlB,YAAY,CAACqB,OAAO,CAAC,WAAW,EAACD,KAAK,CAAC;UACvCN,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;UACrBJ,OAAO,CAACC,GAAG,CAACK,KAAK,CAAC;UACnBhB,UAAU,CAACoB,QAAQ,CAAC1B,YAAY,CAAC2B,OAAO,CAAC,KAAK,CAAC,CAAC;QAChD,CAAC,QAAMC,CAAC,EAAC;UACRZ,OAAO,CAACC,GAAG,2BAAyBW,CAAC,CAAG;QACzC;MACD;IACD,CAAC,CAAC,CAACC,KAAK,CAAC,UAACD,CAAC,EAAG;MACbZ,OAAO,CAACC,GAAG,CAACW,CAAC,CAAC;IACf,CAAC,CAEA;EACF,CAAC;EAAA,gBAnCUxB,KAAK;IAAA;EAAA;AAAA,GAmCf"},"metadata":{},"sourceType":"module"}